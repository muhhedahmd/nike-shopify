<!-- menu Overlay -->
<div
  id="menu-overlay"
  class="fixed inset-0 bg-black bg-opacity-50 z-40 opacity-0 invisible transition-all duration-300"
></div>

<aside
  id="menu-drawer"
  class=" overflow-auto fixed top-0 left-0 w-[40rem] max-w-[90vw] h-full bg-white z-50 shadow-xl transform -translate-x-full transition-transform duration-300 overflow-y-auto"
  aria-label="Shopping menu"
>
  <!-- menu header with Tailwind classes -->
  <div class="flex justify-between items-center  p-6 border-b border-gray-200 ">
    <h2 class="text-xl font-semibold text-gray-900">Shopping menu</h2>
    <button
      id="menu-close-button"
      class="w-8 h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-full transition-colors duration-200"
      aria-label="Close menu"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>

  <nav class=" p-6 pb-0 flex flex-col main-navigation  " role="navigation" aria-label="Main navigation">
    {% assign navigation_item = section.blocks | where: 'type', 'navigation_item' %}
    <ul class="nav-list flex flex-col justify-items-center">
      {% for item in navigation_item %}
        <li class="nav-item" {{ navigation_item.shopify_attributes }}>
          <a
            href="{{ item.settings.page.url | default: '#' }}"
            class="nav-link"
          >
            <script>
              console.log("{{ item.settings.page.url | default: '#' }}");
            </script>
            {{ item.settings.link_text | default: 'Navigation Item' }}
          </a>
        </li>
      {% endfor %}
    </ul>
  </nav>

  <!-- menu content with Tailwind styling -->
  <div class="p-6">
    <!-- menu footer with checkout button -->
    <div class="max-w-full overflow-auto  ">
      <div class="w-max  gap-4  mt-8 pt-6 border-t border-gray-200 flex items-center justify-start">
        {% if section.settings.collectionName != blank %}
          {% assign selected_collection = collections[section.settings.collectionName] %}

          {% for item in selected_collection.products %}
            <div>
              <div class="flex justify-between items-center mb-4">
                <span class="text-lg font-medium text-gray-900">{{ product.title }}</span>
                ${{ item.featured_image | asset_url | image_tag }}
              </div>
            </div>
          {% endfor %}

        {% else %}
          {% for item in collections.first.products %}
            <a class=" p-2 pb-0 bg-neutral-100 rounded-lg aspect-[10rem]  flex items-center justify-start">
              <div class="flex flex-col-reverse justify-between items-center mb-4">
                <div class="flex justify-between items-center w-full mt-2">
                  <div class="flex flex-col items-start justify-start">
                    <span class="text-lg font-medium text-gray-900">{{ item.title }}</span>
                    <span class=" font-medium text-gray-600">{{ item.price | money }}</span>
                  </div>
                  <button class="bg-black text-white py-2 px-4 rounded-md hover:bg-gray-800 transition-colors duration-200">
                    add to cart
                  </button>
                </div>
                <img
                  src="{{ item.featured_image  | image_url   }}"
                  width="500"
                  height="500"
                  alt="{{ item.title }}-img"
                  class=" h-full object-cover w-md  rounded-xl"
                >
              </div>
            </a>
          {% endfor %}
        {% endif %}
      </div>
    </div>
  </div>
</aside>
