<header
  class="header-section"
>
  <div class=" flex justify-between w-full items-center">
    <!-- Logo -->
    <div class="flex items-center gap-2">
      {% if section.settings.show_menu_button %}
        <button
          id="menu-button"

          class="cursor-pointer flex items-center gap-2  px-2 py-2 rounded-md transition-colors duration-200 menu-button"
          aria-label="Open menu"
        >
          {% if section.settings.menu_icon %}
            {{
              section.settings.menu_icon
              | image_url: width: 150, height: 150
              | image_tag: alt: shop.name, style: ' object-fit: cover;'
            }}

          {% else %}
            <svg class="w-5 h-5 icon-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6"></path>
            </svg>
          {% endif %}
        </button>
      {% endif %}

      {% if section.settings.logo %}
        <div class="logo   ">
          {{ section.settings.logo | image_url: width: 200 | image_tag: alt: shop.name, style: ' object-fit: cover;' }}
        </div>
      {% else %}
        <h1 class="site-title">{{ shop.name }}</h1>
      {% endif %}
    </div>
    <!-- Dynamic Navigation -->

    <nav class="main-navigation md:block hidden " role="navigation" aria-label="Main navigation">
      {% assign navigation_item = section.blocks | where: 'type', 'navigation_item' %}
      <ul class="nav-list flex justify-items-center">
        {% for item in navigation_item %}
          <li class="nav-item" {{ navigation_item.shopify_attributes }}>
            <a
              href="{{ item.settings.page.url | default: '#' }}"
              class="nav-link"
            >
              <script>
                console.log("{{ item.settings.page.url | default: '#' }}");
              </script>
              {{ item.settings.link_text | default: 'Navigation Item' }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>
    <div class="flex items-center gap-4">
      <input type="text" id="nav-toggle" class="nav bg-gray-100 px-2 py-1 rounded-xl" placeholder="serch...">
      {% if section.settings.show_cart_button %}
        <button
          id="cart-button"
          class="cart-button flex items-center gap-2 bg-gray-200 hover:bg-gray-300 px-2 py-2 rounded-md transition-colors duration-200"
          aria-label="Open cart"
        >
          {% if section.settings.cart_icon %}
            {{
              section.settings.cart_icon
              | image_url: width: 150, height: 150
              | image_tag: alt: shop.name, style: ' object-fit: cover;'
            }}

          {% else %}
            <svg class="w-5 h-5 icon-menu" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6"></path>
            </svg>
          {% endif %}
        </button>
      {% endif %}
    </div>
  </div>
</header>

{% render 'cart-drawer' %}

{% render 'menu-drawer', hello: section.settings %}

{% render "header-style" |  asset_url | section : section %}

{% comment %}
  <style>
      .header-section {
        border:  apx solid {{ section.settings.border_color | default: '#e5e5e5' }};
        background: {{ section.settings.background_color | default: '#feefff' }};
        border-bottom: 1px solid {{ section.settings.border_color | default: '#e5e5e5' }};
        padding: {{ section.settings.padding_vertical | default: 16 }}px {{ section.settings.padding_horizontal | default: 16 }}px;
      };
      #menu-button {}

      .menu-button {
        background-color: {{ section.settings.menu_icon_bg_color | default: '#feefff' }};
      }
    .menu-button:hover{
      background-color: {{ section.settings.menu_icon_bg_color |  color_darken:  20 }};
    }

    .menu-button img , .menu-button svg {
      width: {{ section.settings.menu_icon_size | default: 24 }}px;
      height: {{ section.settings.menu_icon_size | default: 24 }}px;
      color: {{ section.settings.menu_icon_color | default: '#333333' }};
      stroke: {{ section.settings.menu_icon_color | default: '#333333' }};
    }
      #cart-button {}

      .cart-button {
        background-color: {{ section.settings.menu_icon_bg_color | default: '#feefff' }};
      }
    .cart-button:hover{
      background-color: {{ section.settings.menu_icon_bg_color |  color_darken:  20 }};
    }

    .cart-button img , .cart-button svg {
      width: {{ section.settings.cart_icon_size | default: 24 }}px;
      height: {{ section.settings.cart_icon_size | default: 24 }}px;
      color: {{ section.settings.cart_icon_color | default: '#333333' }};
      stroke: {{ section.settings.cart_icon_color | default: '#333333' }};
    }



      .logo img {
        max-height:{{ section.settings.logo_height | default: 60 }}px ;
        max-width:{{ section.settings.logo_height | default: 60 }}px ;
      }

      .site-title {

        color: {{ section.settings.text_color | default: '#333333' }};
      }

      .nav-list {
        gap: {{ section.settings.nav_spacing | default: 30 }}px;
      }

      .nav-link {

        color: {{ section.settings.text_color | default: '#333333' }};
        font-weight: {{ section.settings.font_weight | default: 500 }};
        font-size: {{ section.settings.font_size | default: 16 }}px;

      }

      .nav-link:hover {

        color: {{ section.settings.hover_color | default: '#007bff' }};
      }
  </style>
{% endcomment %}

{% schema %}
{
  "name": "Dynamic Header",
  "class": "header-section",
  "settings": [
    {
      "type": "header",
      "content": "Logo Settings"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo Image"
    },
    {
      "type": "range",
      "id": "logo_height",
      "label": "Logo Height (px)",
      "min": 30,
      "max": 120,
      "step": 5,
      "default": 60
    },
    {
      "type": "header",
      "content": "Styling"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "hover_color",
      "label": "Hover Color",
      "default": "#007bff"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border Color",
      "default": "#e5e5e5"
    },
    {
      "type": "range",
      "id": "padding_vertical",
      "label": "Vertical Padding (px)",
      "min": 10,
      "max": 50,
      "step": 2,
      "default": 16
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "label": "horizontal Padding (px)",
      "min": 10,
      "max": 50,
      "step": 2,
      "default": 16
    },
    {
      "type": "range",
      "id": "nav_spacing",
      "label": "Navigation Item Spacing (px)",
      "min": 15,
      "max": 50,
      "step": 5,
      "default": 30
    },
    {
      "type": "range",
      "id": "font_size",
      "label": "Font Size (px)",
      "min": 12,
      "max": 24,
      "step": 1,
      "default": 16
    },
    {
      "type": "select",
      "id": "font_weight",
      "label": "Font Weight",
      "options": [
        { "value": "400", "label": "Normal" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "500"
    },
    {
      "type": "header",
      "content": "Menu Button"
    },
    {
      "type": "checkbox",
      "label": "Show menu button",
      "id": "show_menu_button",
      "default": true
    },
    {
      "type": "image_picker",
      "label": "icon for menu button",
      "id": "menu_icon"
    },
    {
      "type": "color",
      "id": "menu_icon_color",
      "label": "Menu Icon Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "menu_icon_bg_color",
      "label": "Menu Icon  background Color",
      "default": "#c4c4c4"
    },
    {
      "type": "range",
      "id": "menu_icon_size",
      "label": "Menu Icon Size (px)",
      "min": 15,
      "max": 50,
      "step": 5,
      "default": 30
    },
    {
      "type": "header",
      "content": "cart button"
    },
    {
      "type": "checkbox",
      "label": "Show cart button",
      "id": "show_cart_button",
      "default": true
    },
    {
      "type": "image_picker",
      "label": "icon for cart button",
      "id": "cart_icon"
    },
    {
      "type": "color",
      "id": "cart_icon_color",
      "label": "cart Icon Color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "cart_icon_size",
      "label": "cartIcon Size (px)",
      "min": 15,
      "max": 50,
      "step": 5,
      "default": 30
    }
  ],
  "blocks": [
    {
      "type": "navigation_item",
      "name": "Navigation Link",
      "settings": [
        {
          "type": "page",
          "id": "page",
          "label": "Select Page"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text",
          "placeholder": "Enter link text"
        }
      ]
    },

    {
      "type": "dropdown_menu",
      "name": "Dropdown Menu",
      "settings": [
        {
          "type": "text",
          "id": "dropdown_title",
          "label": "Dropdown Title",
          "default": "Categories"
        },
        {
          "type": "header",
          "content": "Dropdown Items (up to 5)"
        },
        {
          "type": "page",
          "id": "dropdown_page_1",
          "label": "Page 1"
        },
        {
          "type": "text",
          "id": "dropdown_text_1",
          "label": "Text 1"
        },
        {
          "type": "page",
          "id": "dropdown_page_2",
          "label": "Page 2"
        },
        {
          "type": "text",
          "id": "dropdown_text_2",
          "label": "Text 2"
        },
        {
          "type": "page",
          "id": "dropdown_page_3",
          "label": "Page 3"
        },
        {
          "type": "text",
          "id": "dropdown_text_3",
          "label": "Text 3"
        },
        {
          "type": "page",
          "id": "dropdown_page_4",
          "label": "Page 4"
        },
        {
          "type": "text",
          "id": "dropdown_text_4",
          "label": "Text 4"
        },
        {
          "type": "page",
          "id": "dropdown_page_5",
          "label": "Page 5"
        },
        {
          "type": "text",
          "id": "dropdown_text_5",
          "label": "Text 5"
        }
      ]
    },
   
  ],
  "presets": [
    {
      "name": "Dynamic Header",
      "blocks": [
        {
          "type": "navigation_item",
          "settings": {
            "link_text": "New & Featured"
          }
        },
        {
          "type": "navigation_item",
          "settings": {
            "link_text": "Men"
          }
        },
        {
          "type": "navigation_item",
          "settings": {
            "link_text": "Women"
          }
        }
      ]
    }
  ]
}
{% endschema %}
